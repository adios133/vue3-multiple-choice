(function(o,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(o=typeof globalThis!="undefined"?globalThis:o||self,e(o["vue3-multiple-choice"]={},o.Vue))})(this,function(o,e){"use strict";var E=(()=>`.multiple-list[data-v-68ad6478]{outline:0;cursor:pointer}.item[data-v-68ad6478]{user-select:none}
`)(),v=(s,c)=>{const l=s.__vccOpts||s;for(const[a,t]of c)l[a]=t;return l};const m=["onClick"];var p=v(e.defineComponent({__name:"MultipleChoice",props:{dataSource:{type:Array,default:()=>[]},containerStyle:{type:Object,default:()=>({})},defaultKeys:{type:Array,default:()=>[]},selectedKeys:{type:Array,default:()=>[]}},emits:["update:selectedKeys"],setup(s,{emit:c}){const l=s,a=e.ref(null),t=e.reactive([]),u=e.ref(0),f=e.ref(0);function y(n){n.key==="Control"&&(u.value=1),n.key==="Shift"&&(f.value=1)}function h(n){n.key==="Control"&&(u.value=0),n.key==="Shift"&&(f.value=0)}e.onMounted(()=>{a.value.addEventListener("keydown",y),a.value.addEventListener("keyup",h),a.value.addEventListener("blur",()=>{t.length=0,c("update:selectedKeys",t)}),t.length&&(t.length=0),t.push(...l.defaultKeys),c("update:selectedKeys",t)}),e.onBeforeUnmount(()=>{a.value.removeEventListener("keydown",y),a.value.removeEventListener("keyup",h)});const g=(n,k)=>{if(u.value)t.push(n.key);else if(f.value)if(t.length){const i=l.dataSource.findIndex(r=>r.key===t[t.length-1]),d=k;t.length=0,d>i?t.push(...l.dataSource.map(r=>r.key).slice(i,d+1)):t.push(...l.dataSource.map(r=>r.key).slice(d,i+1))}else t.push(n.key);else t.length=0,t.push(n.key);c("update:selectedKeys",t)};return(n,k)=>(e.openBlock(),e.createElementBlock("div",{class:"multiple-list",style:e.normalizeStyle(s.containerStyle),ref_key:"list",ref:a,tabindex:"-1"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dataSource,(i,d)=>(e.openBlock(),e.createElementBlock("div",{class:"item",onClick:r=>g(i,d)},[e.renderSlot(n.$slots,"item",{isActived:t.includes(i.key),itemData:i},void 0,!0)],8,m))),256))],4))}}),[["__scopeId","data-v-68ad6478"]]);const _=[p];var S={install:function(s,c){_.forEach(l=>{s.component(l.name="MultipleChoice",l)})}};o.MultipleChoice=p,o.default=S,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
