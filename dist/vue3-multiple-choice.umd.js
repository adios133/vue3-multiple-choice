(function(o,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(o=typeof globalThis!="undefined"?globalThis:o||self,e(o["vue3-multiple-choice"]={},o.Vue))})(this,function(o,e){"use strict";var E=(()=>`.multiple-list[data-v-66fd132a]{outline:0;cursor:pointer}.item[data-v-66fd132a]{user-select:none}
`)(),v=(i,s)=>{const n=i.__vccOpts||i;for(const[t,r]of s)n[t]=r;return n};const h=["onClick"];var f=v(e.defineComponent({__name:"MultipleChoice",props:{dataSource:{default:()=>[]},containerStyle:{default:()=>({})}},setup(i){const s=i,n=e.ref(null),t=e.reactive([]),r=e.ref(0),d=e.ref(0);function p(l){l.key==="Control"&&(r.value=1),l.key==="Shift"&&(d.value=1)}function y(l){l.key==="Control"&&(r.value=0),l.key==="Shift"&&(d.value=0)}e.onMounted(()=>{n.value.addEventListener("keydown",p),n.value.addEventListener("keyup",y),n.value.addEventListener("blur",()=>{t.length=0})}),e.onBeforeUnmount(()=>{n.value.removeEventListener("keydown",p),n.value.removeEventListener("keyup",y)});const S=(l,k)=>{if(r.value)t.push(l.key);else if(d.value)if(t.length){const a=s.dataSource.findIndex(c=>c.key===t[t.length-1]),u=k;t.length=0,u>a?t.push(...s.dataSource.map(c=>c.key).slice(a,u+1)):t.push(...s.dataSource.map(c=>c.key).slice(u,a+1))}else t.push(l.key);else t.length=0,t.push(l.key)};return(l,k)=>(e.openBlock(),e.createElementBlock("div",{class:"multiple-list",style:e.normalizeStyle(i.containerStyle),ref_key:"list",ref:n,tabindex:"-1"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.dataSource,(a,u)=>(e.openBlock(),e.createElementBlock("div",{class:"item",onClick:c=>S(a,u)},[e.renderSlot(l.$slots,"item",{isActived:t.includes(a.key),itemData:a},void 0,!0)],8,h))),256))],4))}}),[["__scopeId","data-v-66fd132a"]]);const m=[f];var _={install:function(i,s){m.forEach(n=>{i.component(n.name,n)})}};o.MultipleChoice=f,o.default=_,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
